import{w as _,N as m,a3 as z,a4 as b,a5 as x,H as I,Y as S,U as w,J as E,x as M,O as N,a6 as q,K as D,Z as l,a7 as g,a8 as U,i,$ as u,a9 as f}from"./CU_KDlvJ.js";function A(d,e,r){_&&m();var s=d,t=q,n,o,a=null,h=z()?b:x;function c(){n&&D(n),a!==null&&(a.lastChild.remove(),s.before(a),a=null),n=o}I(()=>{if(h(t,t=e())){var v=s,p=S();p&&(a=document.createDocumentFragment(),a.append(v=w())),o=E(()=>r(v)),p?M.add_callback(c):c()}}),_&&(s=N)}class C extends Map{#e=new Map;#s=l(0);#r=l(0);#i=g||-1;constructor(e){if(super(),e){for(var[r,s]of e)super.set(r,s);this.#r.v=super.size}}#t(e){return g===this.#i?l(e):U(e)}has(e){var r=this.#e,s=r.get(e);if(s===void 0){var t=super.get(e);if(t!==void 0)s=this.#t(0),r.set(e,s);else return i(this.#s),!1}return i(s),!0}forEach(e,r){this.#a(),super.forEach(e,r)}get(e){var r=this.#e,s=r.get(e);if(s===void 0){var t=super.get(e);if(t!==void 0)s=this.#t(0),r.set(e,s);else{i(this.#s);return}}return i(s),super.get(e)}set(e,r){var s=this.#e,t=s.get(e),n=super.get(e),o=super.set(e,r),a=this.#s;if(t===void 0)t=this.#t(0),s.set(e,t),u(this.#r,super.size),f(a);else if(n!==r){f(t);var h=a.reactions===null?null:new Set(a.reactions),c=h===null||!t.reactions?.every(v=>h.has(v));c&&f(a)}return o}delete(e){var r=this.#e,s=r.get(e),t=super.delete(e);return s!==void 0&&(r.delete(e),u(this.#r,super.size),u(s,-1),f(this.#s)),t}clear(){if(super.size!==0){super.clear();var e=this.#e;u(this.#r,0);for(var r of e.values())u(r,-1);f(this.#s),e.clear()}}#a(){i(this.#s);var e=this.#e;if(this.#r.v!==e.size){for(var r of super.keys())if(!e.has(r)){var s=this.#t(0);e.set(r,s)}}for([,s]of this.#e)i(s)}keys(){return i(this.#s),super.keys()}values(){return this.#a(),super.values()}entries(){return this.#a(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return i(this.#r),super.size}}export{C as S,A as k};
